{"ast":null,"code":"import React,{useState}from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import Note from\"./Note\";import notes from\"../notes\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[allNotes,setAllNotes]=useState(notes);const[newNote,setNewNote]=useState({title:\"\",content:\"\"});useEffect(()=>{// Fetch all notes from the backend when the component mounts\naxios.get(\"/api/notes\").then(response=>{setAllNotes(response.data);}).catch(error=>{console.error(\"Error fetching notes:\",error);});},[]);function handleChange(event){const{name,value}=event.target;setNewNote(prevNote=>({...prevNote,[name]:value}));}function addNote(event){if(newNote.title||newNote.content){axios.post(\"/api/notes\",newNote).then(response=>{setAllNotes(prevNotes=>[...prevNotes,newNote]);setNewNote({title:\"\",content:\"\"});}).catch(error=>{console.error(\"Error creating note:\",error);});}//event.preventDefault();\n}function deleteNote(id){axios.delete(\"/api/notes/\".concat(id)).then(()=>{setAllNotes(prevNotes=>prevNotes.filter(note=>note.key!==id));}).catch(error=>{console.error(\"Error deleting note:\",error);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",onChange:handleChange,value:newNote.title,placeholder:\"Title\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",onChange:handleChange,value:newNote.content,placeholder:\"Take a note...\",rows:\"3\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addNote,children:\"Add\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:allNotes.map(note=>/*#__PURE__*/_jsx(Note,{id:note._id,title:note.title,content:note.content,onDelete:deleteNote},note._id))}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","Header","Footer","Note","notes","axios","jsx","_jsx","jsxs","_jsxs","App","allNotes","setAllNotes","newNote","setNewNote","title","content","useEffect","get","then","response","data","catch","error","console","handleChange","event","name","value","target","prevNote","addNote","post","prevNotes","deleteNote","id","delete","concat","filter","note","key","children","onChange","placeholder","rows","onClick","map","_id","onDelete"],"sources":["/Users/Raghad4/Desktop/Education/Columbia/Semester7/FSWD/Final Project/frontend/src/Components/App.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport notes from \"../notes\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [allNotes, setAllNotes] = useState(notes);\n\n  const [newNote, setNewNote] = useState({\n    title: \"\",\n    content: \"\"\n  });\n\n  useEffect(() => {\n    // Fetch all notes from the backend when the component mounts\n    axios.get(\"/api/notes\")\n      .then((response) => {\n        setAllNotes(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching notes:\", error);\n      });\n  }, []);\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n    setNewNote((prevNote) => ({\n      ...prevNote,\n      [name]: value\n    }));\n  }\n\n  function addNote(event) {\n    if (newNote.title || newNote.content) {\n      axios.post(\"/api/notes\", newNote).then((response) => {\n        setAllNotes((prevNotes) => [...prevNotes, newNote]);\n        setNewNote({\n          title: \"\",\n          content: \"\"\n        });\n      }).catch((error) => {\n        console.error(\"Error creating note:\", error);\n      });\n    }\n    //event.preventDefault();\n  }\n\n  function deleteNote(id) {\n    axios.delete(`/api/notes/${id}`).then(() => {\n      setAllNotes((prevNotes) => prevNotes.filter((note) => note.key !== id));\n    })\n    .catch((error) => {\n      console.error(\"Error deleting note:\", error);\n    });\n  }\n\n  return (\n    <div>\n      <Header />\n      <div>\n        <form>\n          <input\n            name=\"title\"\n            onChange={handleChange}\n            value={newNote.title}\n            placeholder=\"Title\"\n          />\n          <textarea\n            name=\"content\"\n            onChange={handleChange}\n            value={newNote.content}\n            placeholder=\"Take a note...\"\n            rows=\"3\"\n          />\n          <button onClick={addNote}>Add</button>\n        </form>\n      </div>\n      <div>\n        {allNotes.map((note) => (\n          <Note\n            key={note._id}\n            id={note._id}\n            title={note.title}\n            content={note.content}\n            onDelete={deleteNote}\n          />\n        ))}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}